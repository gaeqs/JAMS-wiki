"use strict";(self.webpackChunkjamswiki=self.webpackChunkjamswiki||[]).push([[380],{3905:function(e,a,n){n.d(a,{Zo:function(){return d},kt:function(){return u}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=t.createContext({}),l=function(e){var a=t.useContext(c),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},d=function(e){var a=l(e.components);return t.createElement(c.Provider,{value:a},e.children)},p={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=l(n),u=r,v=m["".concat(c,".").concat(u)]||m[u]||p[u]||i;return n?t.createElement(v,o(o({ref:a},d),{},{components:n})):t.createElement(v,o({ref:a},d))}));function u(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var c in a)hasOwnProperty.call(a,c)&&(s[c]=a[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6054:function(e,a,n){n.r(a),n.d(a,{assets:function(){return d},contentTitle:function(){return c},default:function(){return u},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p}});var t=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],s={sidebar_position:4},c="Ensamblador MIPS32",l={unversionedId:"architecture/mipsAssembler",id:"architecture/mipsAssembler",title:"Ensamblador MIPS32",description:"El ensamblador MIP32 de JAMS es un ensamblador avanzado usado para ensamblar proyectos MIPS32.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/architecture/mipsAssembler.md",sourceDirName:"architecture",slug:"/architecture/mipsAssembler",permalink:"/es/docs/architecture/mipsAssembler",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/architecture/mipsAssembler.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Eventos",permalink:"/es/docs/architecture/events"}},d={},p=[{value:"Procedimiento",id:"procedimiento",level:2},{value:"Descubrimiento",id:"descubrimiento",level:3},{value:"Expansi\xf3n",id:"expansi\xf3n",level:3},{value:"Asignaci\xf3n de direcciones",id:"asignaci\xf3n-de-direcciones",level:3},{value:"Asignaci\xf3n de valores",id:"asignaci\xf3n-de-valores",level:3},{value:"Caracter\xedsticas avanzadas",id:"caracter\xedsticas-avanzadas",level:2},{value:"Referencias relativas",id:"referencias-relativas",level:3},{value:"Macros anidadas.",id:"macros-anidadas",level:3}],m={toc:p};function u(e){var a=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,t.Z)({},m,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ensamblador-mips32"},"Ensamblador MIPS32"),(0,i.kt)("p",null,"El ensamblador MIP32 de JAMS es un ensamblador avanzado usado para ensamblar proyectos MIPS32."),(0,i.kt)("p",null,"Este ensamblador soporta caracter\xedsticas avanzadas usadas com\xfanmente al programar en ensamblador, como las macros, las\netiquetas globales o las referencias relativas."),(0,i.kt)("h2",{id:"procedimiento"},"Procedimiento"),(0,i.kt)("p",null,"El ensamblador ensambla el c\xf3digo de un proyecto en ",(0,i.kt)("strong",{parentName:"p"},"cuatro")," pasos: ",(0,i.kt)("strong",{parentName:"p"},"descubrimiento"),", ",(0,i.kt)("strong",{parentName:"p"},"expansi\xf3n"),", ",(0,i.kt)("strong",{parentName:"p"},"asignaci\xf3n de\ndirecciones")," y ",(0,i.kt)("strong",{parentName:"p"},"asignaci\xf3n de valores"),"."),(0,i.kt)("p",null,"Se usar\xe1 el siguiente programa para comentar los diferentes pasos del ensamblador:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'    .macro print ( %string )\n    .data\ntext:   .asciiz %string\n    .text \n    la $a0, text\n    li $v0, 4\n    syscall\n    .endmacro\n    \n    .macro printJams ()\n    print ("Welcome to JAMS!\\n")\n    .endmacro\n    \n    .text\n    .globl main print\nmain:   \nlocal:   \n    printJams ()\n')),(0,i.kt)("h3",{id:"descubrimiento"},"Descubrimiento"),(0,i.kt)("p",null,"En este paso el texto del proyecto se descompone en sus primitivas, permitiendo al ensamblador entender los diferentes\ncomponentes de cada l\xednea."),(0,i.kt)("p",null,"Al final de este paso, las etiquetas globales y las etiquetas de archivo (etiquetas no definidas dentro de una macro)\nson registradas sin ning\xfan valor asignado."),(0,i.kt)("p",null,"Las macros de cada archivo tambi\xe9n son registradas. El identificador de una macro es definido por su nombre concatenado\nal n\xfamero de par\xe1metros que necesitan. Este procedimiento se realiza para dar soporte a la sobrecarga de macros. En el\ncaso de la macro ",(0,i.kt)("inlineCode",{parentName:"p"},"print"),", su identificador ser\xeda ",(0,i.kt)("inlineCode",{parentName:"p"},"print-1"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"Etiquetas globales:\nmain - XXXXXXXX\n\nEtiquetas del archivo:\nlocal - XXXXXXXX\n\nMacros globales:\nprint-1\n\nMacros del archivo:\nprintJams-0\n")),(0,i.kt)("h3",{id:"expansi\xf3n"},"Expansi\xf3n"),(0,i.kt)("p",null,"En este paso, las llamadas macros son invocadas, insertando el c\xf3digo de la macro en la posici\xf3n de la llamada. Este\nc\xf3digo realiza el primero paso del ensamblador mientras es a\xf1adido. Al ser insertado justo despu\xe9s de la llamada, el\nc\xf3digo de la macro tambi\xe9n ser\xe1 expandido."),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Alcance")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Las etiquetas y macros que est\xe1n dentro de una macro tienen un alcance diferente al del archivo. Si la macro es global,\nel alcance es considerado hijo del alcance global y no podr\xe1 acceder a las etiquetas del archivo que lo invoca. Si la\nmacro es local, el alcance es considerado hijo del alcance del archivo."),(0,i.kt)("p",{parentName:"div"},"Cuando un alcance es hijo de otro alcance, el hijo podr\xe1 acceder a las etiquetas y macros de su padre. El hijo tambi\xe9n\npodr\xe1 definir nuevas etiquetas y macros con el mismo identificador que una etiqueta o macro de su padre. Aunque este\ncomportamiento est\xe1 permitido, el hijo solo podr\xe1 acceder al elemento que \xe9l define. Esta funcionalidad es\nllamada ",(0,i.kt)("inlineCode",{parentName:"p"},"ocultamiento")," o ",(0,i.kt)("inlineCode",{parentName:"p"},"shadowing"),"."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'main:   \nlocal:  \n    # Macro printJams-0\n    # Macro print-1\n    .data # Data returns the previous address.\ntext:   .asciiz "Welcome to JAMS!\\n"\n    .text\n    la $s0, text\n    li $v0, 4\n    syscall\n    # Endmacro print-1\n    # Endmacro printJams-0\n')),(0,i.kt)("h3",{id:"asignaci\xf3n-de-direcciones"},"Asignaci\xf3n de direcciones"),(0,i.kt)("p",null,"Una vez el ensamblador haya expandido las macros, se asignan las direcciones de todas las instrucciones, etiquetas y\ndirectivas que requieran direcci\xf3n."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'main:   \nlocal:  \n                    # Macro printJams-0\n                    # Macro print-1\n                    \n0x00400000          .data # Data returns the previous address.\n0x10010000      text:    .asciiz "Welcome to JAMS!\\n"\n0x10010010          .text\n\n                    # la is a pseudo-instruction and \n                    # it will be split in two instructions \n0x00400000          la $s0, text\n0x00400008          li $v0, 4\n0x0040000c          syscall\n\n                    # Endmacro print-1\n                    # Endmacro printJams-0\n')),(0,i.kt)("h3",{id:"asignaci\xf3n-de-valores"},"Asignaci\xf3n de valores"),(0,i.kt)("p",null,"Como paso final, el ensamblador insertar\xe1 en memoria los valores que representan las directivas e instrucciones."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"                    # Macro printJams-0\n                    # Macro print-1\n                    \n0x10010000          Welcome to JAMS!\\n\\0\n0x00400000          0x3c011001 # la $a0, text\n0x00400004          0x34240000\n0x00400008          0x24020004 # li $v0, 4\n0x0040000c          0x0000000c # syscall\n\n                    # Endmacro print-1\n                    # Endmacro printJams-0\n")),(0,i.kt)("h2",{id:"caracter\xedsticas-avanzadas"},"Caracter\xedsticas avanzadas"),(0,i.kt)("p",null,"El ensamblador permite el uso de t\xe9cnicas avanzadas en el desarrollo de aplicaciones ensamblador."),(0,i.kt)("h3",{id:"referencias-relativas"},"Referencias relativas"),(0,i.kt)("p",null,"Una directiva o instrucci\xf3n puede referenciar a una etiqueta de manera relativa con las referencias especiales\n",(0,i.kt)("inlineCode",{parentName:"p"},"+")," y ",(0,i.kt)("inlineCode",{parentName:"p"},"-"),"."),(0,i.kt)("p",null,"La referencia ",(0,i.kt)("inlineCode",{parentName:"p"},"+")," hace referencia a la etiqueta siguiente. La referencia ",(0,i.kt)("inlineCode",{parentName:"p"},"-")," hace referencia a la etiqueta anterior."),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"Alcance con referencias relativas")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Las referencias relativas solo pueden hacer referencia a etiquetas ",(0,i.kt)("strong",{parentName:"p"},"del mismo alcance"),". No pueden hacer referencia a\netiquetas de un alcance mayor."))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"main:   \n    li $s0, 0\n    li $s1, 10\nloop:   \n    printJams ()\n    addi $s0, $s0, 1\n    bne $s0, $s1, -\n")),(0,i.kt)("h3",{id:"macros-anidadas"},"Macros anidadas."),(0,i.kt)("p",null,"Una macro puede ser definida dentro de otra macro. Esto es conocido como una ",(0,i.kt)("strong",{parentName:"p"},"macro anidada"),". Esta macro solo podr\xe1\nser accedida en el alcance de la macro en la que est\xe1 declarada."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'    .macro printJams ()\n    .macro print (%string)\n    .data\ntext:   .asciiz %string\n    .text\n    la $a0, text\n    li $v0, 4\n    syscall\n    \n    .endmacro\n    print ("Welcome to JAMS!\\n")\n    .endmacro\n')))}u.isMDXComponent=!0}}]);